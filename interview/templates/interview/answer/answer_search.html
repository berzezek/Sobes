{% extends 'interview/base.html' %}
{% block content %}
<div class="container mt-5 shadow rounded p-5">
    <h4>Поиск ответов</h4>

    <form action="{% url 'answer_search' %}" method="get">
        <input name="q" type="text" placeholder="Поиск...">
    </form>
</div>
<div class="container mt-5 shadow rounded p-5">
    {% if object_list %}
    {%for el in object_list %}
    <ul>
        <li>
            Отвечал: {{ el.owner }}
        </li>
        <li>
            Категория: {{ el.category }}
        </li>
        <li>
            Вопрос: {{ el.question }}
        </li>

        <hr>
        Ответ:
        {% if el.question.type == '1' %}
        <li>
            {{ el.answer_text|default_if_none:"Пользователь не ответил" }}
        </li>
        {% elif el.question.type == '2' %}
        <li>
            {{ el.answer_choice|default_if_none:"Пользователь не ответил" }}
        </li>
        {% elif el.question.type == '3' %}
        <li>
            {{ el.answer_multi|default_if_none:"Пользователь не ответил" }}
        </li>
        {% endif %}
    </ul>
</div>
{% endfor %}
{% else %}
<p>Введите номер ответа на опрос</p>
{% endif %}
{% endblock %}